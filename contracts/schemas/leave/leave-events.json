{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "maliev/leave-events",
    "title": "Leave Domain Events",
    "description": "Events published by the Leave Service for cross-service integration",
    "definitions": {
        "LeaveRequestSubmittedEvent": {
            "type": "object",
            "description": "Published when a leave request is submitted",
            "properties": {
                "requestId": {
                    "type": "string",
                    "format": "uuid"
                },
                "employeeId": {
                    "type": "string",
                    "format": "uuid"
                },
                "leaveType": {
                    "type": "string",
                    "enum": [
                        "Annual",
                        "Sick",
                        "Personal",
                        "Maternity",
                        "Paternity",
                        "Unpaid",
                        "Bereavement",
                        "Study"
                    ]
                },
                "startDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "endDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "totalDays": {
                    "type": "number"
                },
                "submittedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "requestId",
                "employeeId",
                "leaveType",
                "startDate",
                "endDate",
                "totalDays",
                "submittedAt"
            ]
        },
        "LeaveRequestApprovedEvent": {
            "type": "object",
            "description": "Published when a leave request is approved",
            "properties": {
                "requestId": {
                    "type": "string",
                    "format": "uuid"
                },
                "employeeId": {
                    "type": "string",
                    "format": "uuid"
                },
                "approvedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "requestId",
                "employeeId",
                "approvedAt"
            ]
        },
        "LeaveRequestRejectedEvent": {
            "type": "object",
            "description": "Published when a leave request is rejected",
            "properties": {
                "requestId": {
                    "type": "string",
                    "format": "uuid"
                },
                "employeeId": {
                    "type": "string",
                    "format": "uuid"
                },
                "reason": {
                    "type": "string"
                },
                "rejectedAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "requestId",
                "employeeId",
                "reason",
                "rejectedAt"
            ]
        },
        "LeaveRequestCancelledEvent": {
            "type": "object",
            "description": "Published when a leave request is cancelled",
            "properties": {
                "requestId": {
                    "type": "string",
                    "format": "uuid"
                },
                "employeeId": {
                    "type": "string",
                    "format": "uuid"
                },
                "reason": {
                    "type": "string"
                },
                "cancelledAt": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "requestId",
                "employeeId",
                "cancelledAt"
            ]
        },
        "LeaveBalanceUpdatedEvent": {
            "type": "object",
            "description": "Published when leave balance changes",
            "properties": {
                "employeeId": {
                    "type": "string",
                    "format": "uuid"
                },
                "leaveType": {
                    "type": "string"
                },
                "newBalance": {
                    "type": "number"
                }
            },
            "required": [
                "employeeId",
                "leaveType",
                "newBalance"
            ]
        },
        "LeaveBalanceAdjustedEvent": {
            "type": "object",
            "description": "Published when leave balance changes",
            "properties": {
                "employeeId": {
                    "type": "string",
                    "format": "uuid"
                },
                "leaveType": {
                    "type": "string"
                },
                "year": {
                    "type": "integer"
                },
                "newEntitled": {
                    "type": "number"
                },
                "newUsed": {
                    "type": "number"
                },
                "newPending": {
                    "type": "number"
                },
                "newCarriedForward": {
                    "type": "number"
                }
            },
            "required": [
                "employeeId",
                "leaveType",
                "year",
                "newEntitled",
                "newUsed",
                "newPending",
                "newCarriedForward"
            ]
        }
    }
}